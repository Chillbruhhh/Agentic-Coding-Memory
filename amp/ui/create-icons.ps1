# Quick fix for Tauri icons
# This creates placeholder icon files to allow the app to build

$iconsDir = "C:\Users\Joshc\source\repos\ACM\amp\ui\src-tauri\icons"

# Create icons directory if it doesn't exist
if (!(Test-Path $iconsDir)) {
    New-Item -ItemType Directory -Path $iconsDir -Force
}

# Create a simple 32x32 ICO file (minimal valid ICO format)
$icoBytes = @(
    0x00, 0x00, 0x01, 0x00, 0x01, 0x00, 0x20, 0x20, 0x00, 0x00, 0x01, 0x00, 0x20, 0x00, 0x30, 0x10,
    0x00, 0x00, 0x16, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x40, 0x00,
    0x00, 0x00, 0x01, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
)

# Pad to create a minimal valid ICO
$padding = New-Object byte[] (4096 - $icoBytes.Length)
$fullIco = $icoBytes + $padding

[System.IO.File]::WriteAllBytes("$iconsDir\icon.ico", $fullIco)

Write-Host "âœ… Created placeholder icon.ico"
Write-Host "ðŸš€ Now run: npm run tauri:dev"
